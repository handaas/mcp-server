# HANDAASä¼ä¸šå¤§æ•°æ®æœåŠ¡ MCP

è¯¥MCPæœåŠ¡æä¾›HANDAASä¼ä¸šå¤§æ•°æ®æœåŠ¡ï¼ŒåŒ…æ‹¬ä¼ä¸šå·¥å•†ä¿¡æ¯ã€ä¼ä¸šç®€ä»‹ã€ä¼ä¸šæ ‡ç­¾ã€ä¼ä¸šä¸šåŠ¡ã€ä¼ä¸šæ§è‚¡è‚¡ä¸œä¿¡æ¯ã€ä¼ä¸šå¯¹å¤–æŠ•èµ„ä¿¡æ¯ã€ä¼ä¸šåˆ†æ”¯æœºæ„ä¿¡æ¯ã€ä¼ä¸šä¸»è¦äººå‘˜ä¿¡æ¯ç­‰ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” ä¼ä¸šå…³é”®è¯æ¨¡ç³Šæœç´¢
- ğŸ¢ ä¼ä¸šåŸºç¡€ä¿¡æ¯æŸ¥è¯¢
- ğŸ‘¥ ä¼ä¸šæ§è‚¡è‚¡ä¸œä¿¡æ¯
- ğŸ’° ä¼ä¸šå¯¹å¤–æŠ•èµ„ä¿¡æ¯
- ğŸª ä¼ä¸šåˆ†æ”¯æœºæ„ä¿¡æ¯
- ğŸ‘¨â€ğŸ’¼ ä¼ä¸šä¸»è¦äººå‘˜ä¿¡æ¯

## ç¯å¢ƒè¦æ±‚

- Python 3.10+
- ä¾èµ–åŒ…ï¼špython-dotenv, requests, mcp

## æœ¬åœ°streamable-httpå¿«é€Ÿå¯åŠ¨

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/handaas/mcp-server
cd mcp-server
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ&å®‰è£…ä¾èµ–

```bash
python -m venv mcp_env && source mcp_env/bin/activate
pip install -r requirements.txt
```

### 3. ç¯å¢ƒé…ç½®

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿å¹¶é…ç½®ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
INTEGRATOR_ID=your_integrator_id
SECRET_ID=your_secret_id
SECRET_KEY=your_secret_key
```

### 4. å¯åŠ¨æœåŠ¡

```bash
python server/enterprise_mcp_server.py
```

æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ã€‚

### 5. Cursor / Cherry Studio MCPé…ç½®

```json
{
  "mcpServers": {
    "handaas-mcp-server": {
      "type": "streamableHttp",
      "url": "http://127.0.0.1:8000/mcp"
    }
  }
}
```

## STDIOç‰ˆå®‰è£…éƒ¨ç½²

### 1. ä¿®æ”¹enterprise_mcp_serverè„šæœ¬ä¸­å¯åŠ¨æ–¹å¼ä¸ºstdio

```python
mcp.run(transport="stdio")
```

### 2. è®¾ç½®Cursor / Cherry Studio MCPé…ç½®

```json
{
    "mcpServers": {
      "handaas-mcp-server": {
        "command": "uv",
        "args": ["run", "mcp", "run", "{workdir}/server/enterprise_mcp_server.py"],
        "env": {
          "PATH": "{workdir}/mcp_env/bin:$PATH",
          "PYTHONPATH": "{workdir}/mcp_env",
          "INTEGRATOR_ID": "your_integrator_id",
          "SECRET_ID": "your_secret_id",
          "SECRET_KEY": "your_secret_key"
        }
      }
    }
  }
```


## ä½¿ç”¨å®˜æ–¹RemoteæœåŠ¡

### 1. ç›´æ¥è®¾ç½®Cursor / Cherry Studio MCPé…ç½®

```json
{
  "mcpServers": {
    "handaas-ent-mcp-server":{
        "url": "http://mcp.handaas.com/ent_mcp?token={token}"  
        }
  }
}
```


### æ³¨æ„ï¼šintegrator_idã€secret_idã€secret_keyåŠtokenéœ€è¦ç™»å½• https://www.handaas.com/ è¿›è¡Œæ³¨å†Œå¼€é€šå¹³å°è·å–


## å¯ç”¨å·¥å…· (Tools)

### 1. get_keyword_search
**åŠŸèƒ½**: å…³é”®è¯æ¨¡ç³ŠæŸ¥è¯¢ä¼ä¸š

æ ¹æ®æä¾›çš„ä¼ä¸šåç§°ã€äººåã€å“ç‰Œã€äº§å“ã€å²—ä½ç­‰å…³é”®è¯æ¨¡ç³ŠæŸ¥è¯¢ç›¸å…³ä¼ä¸šåˆ—è¡¨ã€‚

**å‚æ•°**:
- `matchKeyword` (å¿…éœ€): åŒ¹é…å…³é”®è¯ - æŸ¥è¯¢å„ç±»ä¿¡æ¯åŒ…å«åŒ¹é…å…³é”®è¯çš„ä¼ä¸š
- `pageIndex` (å¯é€‰): åˆ†é¡µå¼€å§‹ä½ç½®
- `pageSize` (å¯é€‰): åˆ†é¡µç»“æŸä½ç½® - ä¸€é¡µæœ€å¤šè·å–50æ¡æ•°æ®

**è¿”å›å€¼**:
- `catchReason`: å‘½ä¸­åŸå› 
- `address`: åœ°å€
- `enterpriseType`: ä¼ä¸šç±»å‹
- `foundTime`: æˆç«‹æ—¶é—´
- `homepage`: å®˜ç½‘
- `legalRepresentative`: æ³•äºº
- `name`: ä¼ä¸šåç§°
- `operStatus`: ç»è¥çŠ¶æ€
- `regCapitalCoinType`: æ³¨å†Œèµ„æœ¬å¸ç§
- `regCapitalValue`: æ³¨å†Œèµ„æœ¬
- `annualTurnover`: å¹´è¥ä¸šé¢

### 2. get_enterprise_base_info
**åŠŸèƒ½**: æŸ¥è¯¢ä¼ä¸šåŸºç¡€ä¿¡æ¯

é€šè¿‡è¾“å…¥ä¼ä¸šå…¨ç§°æŸ¥è¯¢ä¼ä¸šä¸šåŠ¡ç›¸å…³ä¿¡æ¯ï¼Œè¯†åˆ«è¯¥å…¬å¸æ˜¯åšä»€ä¹ˆçš„ã€‚

**å‚æ•°**:
- `keyword` (å¿…éœ€): ä¼ä¸šå…¨ç§°

**è¿”å›å€¼**:
- `base_info`: ä¼ä¸šå·¥å•†ä¿¡æ¯
- `desc`: ä¼ä¸šç®€ä»‹
- `business_info`: ä¼ä¸šä¸šåŠ¡
- `tag`: ä¼ä¸šæ ‡ç­¾

### 3. get_enterprise_holder_info
**åŠŸèƒ½**: æŸ¥è¯¢ä¼ä¸šæ§è‚¡è‚¡ä¸œä¿¡æ¯

é€šè¿‡è¾“å…¥ä¼ä¸šå…¨ç§°æŸ¥è¯¢ä¼ä¸šæ§è‚¡è‚¡ä¸œä¿¡æ¯ï¼Œè¯¥ä¿¡æ¯é€šè¿‡å·¥å•†ä¿¡æ¯åŠæ—·æ¹–å…¨éƒ¨æ•°æ®åˆ†æå¾—å‡ºã€‚

**å‚æ•°**:
- `keyword` (å¿…éœ€): ä¼ä¸šå…¨ç§°

**è¿”å›å€¼**:
- `holderList`: è‚¡ä¸œåˆ—è¡¨ï¼ˆå·¥å•†å…¬ç¤ºï¼‰
  - `entityType`: ä¸»ä½“ç±»å‹
  - `holderType`: è‚¡ä¸œç±»å‹
  - `name`: è‚¡ä¸œåç§°
  - `nameId`: ä¼ä¸šid
  - `humanId`: äººå‘˜id
  - `payAmount`: å®ç¼´é‡‘é¢
  - `ratio`: æŒè‚¡æ¯”ä¾‹
  - `subscriptionDetail`: è®¤ç¼´ä¿¡æ¯
- `stockHolderList`: è‚¡ä¸œåˆ—è¡¨ï¼ˆæœ€æ–°å…¬ç¤ºï¼‰æ¥è‡ªäºä¸Šå¸‚ä¿¡æ¯

### 4. get_enterprise_invest_info
**åŠŸèƒ½**: æŸ¥è¯¢ä¼ä¸šå¯¹å¤–æŠ•èµ„ä¿¡æ¯

é€šè¿‡è¾“å…¥ä¼ä¸šå…¨ç§°æŸ¥è¯¢ä¼ä¸šçš„å¯¹å¤–æŠ•èµ„ä¿¡æ¯ï¼Œè¯¥ä¿¡æ¯é€šè¿‡å·¥å•†ä¿¡æ¯åŠæ—·æ¹–å…¨éƒ¨æ•°æ®åˆ†æå¾—å‡ºã€‚

**å‚æ•°**:
- `keyword` (å¿…éœ€): ä¼ä¸šå…¨ç§°

**è¿”å›å€¼**:
- `resultList`: å¯¹å¤–æŠ•èµ„ç»“æœåˆ—è¡¨
  - `addressValue`: è¢«æŠ•èµ„å…¬å¸æ‰€å±åœ°åŒº
  - `business`: è¢«æŠ•èµ„å…¬å¸ç»è¥èŒƒå›´
  - `foundTime`: è¢«æŠ•èµ„å…¬å¸æˆç«‹æ—¥æœŸ
  - `isListed`: è¢«æŠ•èµ„å…¬å¸ä¸Šå¸‚çŠ¶æ€
  - `legalRepresentative`: è¢«æŠ•èµ„å…¬å¸æ³•å®šä»£è¡¨äºº
  - `name`: å¯¹å¤–æŠ•èµ„ä¼ä¸šå
  - `operStatus`: å¯¹å¤–æŠ•èµ„ä¼ä¸šç»è¥çŠ¶æ€
  - `ratio`: å è‚¡æ¯”ä¾‹
  - `regCapital`: è¢«æŠ•èµ„å…¬å¸æ³¨å†Œèµ„æœ¬
  - `scCode`: å¯¹å¤–æŠ•èµ„ä¼ä¸šç»Ÿä¸€ä¿¡ç”¨ç¼–ç 
  - `subscriptionAmount`: æŠ•èµ„é‡‘é¢ä¿¡æ¯

### 5. get_enterprise_branch_info
**åŠŸèƒ½**: æŸ¥è¯¢ä¼ä¸šåˆ†æ”¯æœºæ„ä¿¡æ¯

é€šè¿‡è¾“å…¥ä¼ä¸šå…¨ç§°æŸ¥è¯¢ä¼ä¸šçš„åˆ†æ”¯æœºæ„ä¿¡æ¯ï¼Œåˆ†æ”¯æœºæ„ä¿¡æ¯æ¥æºäºå·¥å•†å…¬ç¤ºã€‚

**å‚æ•°**:
- `keyword` (å¿…éœ€): ä¼ä¸šå…¨ç§°

**è¿”å›å€¼**:
- `resultList`: åˆ†æ”¯æœºæ„ç»“æœåˆ—è¡¨
  - `addressValue`: åœ°å€ä¿¡æ¯
  - `foundTime`: æˆç«‹æ—¶é—´
  - `legalRepresentative`: æ³•å®šä»£è¡¨äºº
  - `name`: æœºæ„åç§°
  - `operStatus`: ç»è¥çŠ¶æ€
  - `orgCode`: ç»„ç»‡æœºæ„ä»£ç 
  - `registrationAuthority`: ç™»è®°æœºå…³
  - `socialCreditCode`: ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç 

### 6. get_enterprise_main_person_info
**åŠŸèƒ½**: æŸ¥è¯¢ä¼ä¸šä¸»è¦äººå‘˜ä¿¡æ¯

é€šè¿‡è¾“å…¥ä¼ä¸šå…¨ç§°æŸ¥è¯¢ä¼ä¸šçš„ä¸»è¦äººå‘˜ä¿¡æ¯ï¼Œä¸»è¦äººå‘˜ä¿¡æ¯æ¥æºäºå·¥å•†å…¬ç¤ºã€‚

**å‚æ•°**:
- `keyword` (å¿…éœ€): ä¼ä¸šå…¨ç§°

**è¿”å›å€¼**:
- `resultList`: ä¸»è¦äººå‘˜ç»“æœåˆ—è¡¨
  - `name`: æˆå‘˜åç§°
  - `position`: èŒä½
  - `ratio`: æŒè‚¡æ¯”ä¾‹
  - `relatedEnterpriseCurrentNum`: ç°ä»»èŒä¼ä¸šæ•°
  - `relatedEnterpriseHistoryNum`: æ›¾ä»»èŒä¼ä¸šæ•°


## ä½¿ç”¨æ³¨æ„äº‹é¡¹

1. **ä¼ä¸šå…¨ç§°è¦æ±‚**: åœ¨è°ƒç”¨éœ€è¦ä¼ä¸šå…¨ç§°çš„æ¥å£æ—¶ï¼Œéœ€è¦å…ˆè°ƒç”¨å…³é”®è¯æ¨¡ç³ŠæŸ¥è¯¢ä¼ä¸šæ¥å£è¿›è¡Œè¡¥å…¨åï¼Œå†è°ƒç”¨è¯¥æ¥å£ã€‚

2. **APIé™åˆ¶**: åˆ†é¡µæŸ¥è¯¢æ—¶ï¼Œä¸€é¡µæœ€å¤šè·å–50æ¡æ•°æ®ã€‚

3. **ç¯å¢ƒå˜é‡**: ç¡®ä¿æ­£ç¡®é…ç½® `INTEGRATOR_ID`ã€`SECRET_ID` å’Œ `SECRET_KEY`ã€‚

4. **é”™è¯¯å¤„ç†**: æ‰€æœ‰æ¥å£éƒ½åŒ…å«é”™è¯¯å¤„ç†ï¼ŒæŸ¥è¯¢å¤±è´¥æ—¶ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ã€‚

5. **ç½‘ç»œè¦æ±‚**: æœåŠ¡å™¨éœ€è¦èƒ½å¤Ÿè®¿é—® `https://handaas.com` APIæ¥å£ã€‚

## æ•…éšœæ’é™¤

1. **ç¯å¢ƒå˜é‡æœªé…ç½®**: æ£€æŸ¥ `.env` æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
2. **ç½‘ç»œè¿æ¥é—®é¢˜**: ç¡®ä¿æœåŠ¡å™¨å¯ä»¥è®¿é—® `https://handaas.com`
3. **ç«¯å£å ç”¨**: å¦‚æœ8000ç«¯å£è¢«å ç”¨ï¼Œå¯ä»¥ä¿®æ”¹ `enterprise_mcp_server.py` ä¸­çš„ç«¯å£é…ç½®

## é¡¹ç›®ç»“æ„

```
enterprise-mcp/
â”œâ”€â”€ server/
â”‚   â””â”€â”€ enterprise_mcp_server.py    # MCPæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ client_example.py               # å®¢æˆ·ç«¯ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ requirements.txt                # Pythonä¾èµ–
â”œâ”€â”€ start_mcp.sh                   # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ .env.example                   # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ README.md                      # é¡¹ç›®æ–‡æ¡£
```

## MCPä½¿ç”¨ç¤ºä¾‹

1. æ¢è¿¹ç§‘æŠ€æ˜¯åšä»€ä¹ˆçš„?
2. æ¢è¿¹ç§‘æŠ€æœ‰å“ªäº›è‚¡ä¸œï¼Ÿ
3. æ¢è¿¹ç§‘æŠ€å¯¹å¤–æŠ•èµ„äº†å“ªäº›ä¼ä¸šï¼Ÿ
4. æ¢è¿¹ç§‘æŠ€æœ‰å“ªäº›åˆ†å…¬å¸ï¼Ÿ
5. æ¢è¿¹ç§‘æŠ€çš„ä¸šåŠ¡æœ‰å“ªäº›ï¼Ÿ


## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚ 